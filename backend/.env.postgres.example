# Backend PostgreSQL Environment Configuration
# Copy to backend/.env for backend-specific overrides

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL connection (overrides root .env if present)
DATABASE_URL=postgresql+psycopg2://spy:pass@127.0.0.1:5433/spy

# Alternative PostgreSQL configurations:

# Local Postgres (manual installation)
# DATABASE_URL=postgresql+psycopg2://spy:pass@localhost:5432/spy

# Docker internal (when running app in container)
# DATABASE_URL=postgresql+psycopg2://spy:pass@db:5432/spy

# Production with SSL
# DATABASE_URL=postgresql+psycopg2://spy:secure_password@prod-host:5432/spy?sslmode=require

# ============================================================================
# CONNECTION POOL SETTINGS (Advanced)
# ============================================================================

# SQLAlchemy connection pool settings for production
# DB_POOL_SIZE=20
# DB_MAX_OVERFLOW=30
# DB_POOL_TIMEOUT=30
# DB_POOL_RECYCLE=3600

# ============================================================================
# BACKEND-SPECIFIC OVERRIDES
# ============================================================================

# Override global debug setting for backend only
# DEBUG=false

# Backend-specific timezone (if different from global)
# TIMEZONE=America/Chicago

# ============================================================================
# TESTING DATABASE
# ============================================================================

# Separate database for testing (optional)
# TEST_DATABASE_URL=postgresql+psycopg2://spy:pass@127.0.0.1:5433/spy_test

# ============================================================================
# MIGRATION SETTINGS
# ============================================================================

# Auto-run migrations on startup (default: true)
# AUTO_MIGRATE=true

# Migration timeout (seconds)
# MIGRATION_TIMEOUT=30

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Database query timeout (seconds)
# DB_QUERY_TIMEOUT=30

# Enable SQL query logging (development only)
# LOG_SQL_QUERIES=false

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================

# Backup directory for automated backups
# BACKUP_DIR=/app/backups

# Backup retention days
# BACKUP_RETENTION_DAYS=30

# ============================================================================
# MONITORING
# ============================================================================

# Enable database performance monitoring
# ENABLE_DB_MONITORING=false

# Slow query threshold (seconds)
# SLOW_QUERY_THRESHOLD=1.0

# ============================================================================
# NOTES
# ============================================================================

# 1. This file is loaded AFTER the root .env file
# 2. Values here override those in the root .env
# 3. Use this for backend-specific database tuning
# 4. For simple setups, root .env is usually sufficient